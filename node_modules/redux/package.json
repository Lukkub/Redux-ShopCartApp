{
  "name": "redux",
  "version": "1.0.0-rc",
  "description": "Atomic Flux with hot reloading",
  "main": "lib/index.js",
  "scripts": {
    "browser": "scripts/browser",
    "build": "scripts/build",
    "clean": "scripts/clean",
    "lint": "scripts/lint",
    "prepublish": "scripts/prepublish",
    "test": "scripts/test",
    "test:watch": "scripts/test-watch",
    "test:cov": "scripts/test-cov"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/gaearon/redux.git"
  },
  "keywords": [
    "flux",
    "redux",
    "reducer",
    "react",
    "reactjs",
    "hot",
    "reload",
    "hmr",
    "live",
    "edit",
    "webpack"
  ],
  "author": {
    "name": "Dan Abramov",
    "email": "dan.abramov@me.com",
    "url": "http://github.com/gaearon"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/gaearon/redux/issues"
  },
  "homepage": "https://github.com/gaearon/redux",
  "devDependencies": {
    "babel": "^5.5.8",
    "babel-core": "^5.6.18",
    "babel-eslint": "^3.1.15",
    "babel-loader": "^5.1.4",
    "eslint": "^0.23",
    "eslint-config-airbnb": "0.0.6",
    "eslint-plugin-react": "^2.3.0",
    "expect": "^1.6.0",
    "isparta": "^3.0.3",
    "mocha": "^2.2.5",
    "rimraf": "^2.3.4",
    "webpack": "^1.9.6",
    "webpack-dev-server": "^1.8.2"
  },
  "dependencies": {
    "invariant": "^2.0.0"
  },
  "npmName": "redux",
  "npmFileMap": [
    {
      "basePath": "/dist/",
      "files": [
        "*.js"
      ]
    }
  ],
  "readme": "redux\n=========================\n\n[![build status](https://img.shields.io/travis/gaearon/redux/master.svg?style=flat-square)](https://travis-ci.org/gaearon/redux)\n[![npm version](https://img.shields.io/npm/v/redux.svg?style=flat-square)](https://www.npmjs.com/package/redux)\n[![redux channel on slack](https://img.shields.io/badge/slack-redux@reactiflux-61DAFB.svg?style=flat-square)](http://www.reactiflux.com)\n\nAtomic Flux with hot reloading.\n\n**The API is likely to change a few times before we reach 1.0.**<br>\n**Its [surface area](http://www.youtube.com/watch?v=4anAwXYqLG8) is minimal so you can try it in production and report any issues.**\n\n**You can track the [new docs](https://github.com/gaearon/redux/pull/140) and the [1.0 API and terminology changes](https://github.com/gaearon/redux/pull/195).**\n\n\n# Table of Contents\n\n- [Why another Flux framework?](#why-another-flux-framework)\n  - [Philosophy & Design Goals](#philosophy--design-goals)\n- [The Talk](#the-talk)\n- [Demo](#demo)\n- [Examples](#examples)\n  - [Simple Examples](#simple-examples)\n  - [ES5 Examples](#es5-examples)\n  - [Async and Universal Examples with Routing](#async-and-universal-examples-with-routing)\n- [What does it look like?](#what-does-it-look-like)\n  - [Actions](#actions)\n  - [Stores](#stores)\n  - [Components](#components)\n    - [Dumb Components](#dumb-components)\n    - [Smart Components](#smart-components)\n    - [Decorators](#decorators)\n  - [React Native](#react-native)\n  - [Initializing Redux](#initializing-redux)\n  - [Running the same code on client and server](#running-the-same-code-on-client-and-server)\n  - [Additional customization](#additional-customization)\n- [FAQ](#faq)\n  - [How does hot reloading work?](#how-does-hot-reloading-work)\n  - [Can I use this in production?](#can-i-use-this-in-production)\n  - [How do I do async?](#how-do-i-do-async)\n  - [But there are switch statements!](#but-there-are-switch-statements)\n  - [What about `waitFor`?](#what-about-waitfor)\n  - [My views aren't updating!](#my-views-arent-updating)\n  - [How do Stores, Actions and Components interact?](#how-do-stores-actions-and-components-interact)\n- [Discussion](#discussion)\n- [Inspiration and Thanks](#inspiration-and-thanks)\n\n## Why another Flux framework?\n\nRead **[The Evolution of Flux Frameworks](https://medium.com/@dan_abramov/the-evolution-of-flux-frameworks-6c16ad26bb31)** for some context.\n\n### Philosophy & Design Goals\n\n* You shouldn't need a book on functional programming to use Redux.\n* Everything (Stores, Action Creators, configuration) is hot reloadable.\n* Preserves the benefits of Flux, but adds other nice properties thanks to its functional nature.\n* Prevents some of the anti-patterns common in Flux code.\n* Works great in [universal (aka “isomorphic”)](https://medium.com/@mjackson/universal-javascript-4761051b7ae9) apps because it doesn't use singletons and the data can be rehydrated.\n* Doesn't care how you store your data: you may use JS objects, arrays, ImmutableJS, etc.\n* Under the hood, it keeps all your data in a tree, but you don't need to think about it.\n* Lets you efficiently subscribe to finer-grained updates than individual Stores.\n* Provides hooks for powerful devtools (e.g. time travel, record/replay) to be implementable without user buy-in.\n* Provides extension points so it's easy to [support promises](https://github.com/gaearon/redux/issues/99#issuecomment-112212639) or [generate constants](https://gist.github.com/skevy/8a4ffc3cfdaf5fd68739) outside the core.\n* No wrapper calls in your stores and actions. Your stuff is your stuff.\n* It's super easy to test things in isolation without mocks.\n* You can use “flat” Stores, or [compose and reuse Stores](https://gist.github.com/gaearon/d77ca812015c0356654f) just like you compose Components.\n* The API surface area is minimal.\n* Have I mentioned hot reloading yet?\n\n## The Talk\n\nRedux was demoed together with **[React Hot Loader](https://github.com/gaearon/react-hot-loader)** at React Europe.  \nWatch **[Dan Abramov's talk on Hot Reloading with Time Travel](https://www.youtube.com/watch?v=xsSnOQynTHs).**\n\n## Demo\n\n<img src='https://s3.amazonaws.com/f.cl.ly/items/2Z2D3U260d2A311k2B0z/Screen%20Recording%202015-06-03%20at%2003.22%20pm.gif' width='500'>\n\n## Examples\n\n### Simple Examples\n\nRedux is distributed with a Counter and a TodoMVC example in its source code.\n\nFirst, clone the repo:\n\n```\ngit clone https://github.com/gaearon/redux.git\ncd redux\n```\n\nRun the Counter example:\n\n```\ncd redux/examples/counter\nnpm install\nnpm start\n```\n\nRun the TodoMVC example:\n\n```\ncd ../todomvc\nnpm install\nnpm start\n```\n\n### ES5 Examples\n\nIf you have not used ES6 before, check out one of these ES5 examples:\n\n* [redux-todomvc-es5](https://github.com/insin/redux-todomvc-es5)\n\n### Async and Universal Examples with Routing\n\nThese async and [universal (aka “isomorphic”)](https://medium.com/@mjackson/universal-javascript-4761051b7ae9) examples using React Router should help you get started:\n\n* [redux-react-router-async-example](https://github.com/emmenko/redux-react-router-async-example): Work in progress. Semi-official. Only the client side. Uses React Router.\n* [react-redux-universal-hot-example](https://github.com/erikras/react-redux-universal-hot-example): Universal. Uses React Router.\n* [redux-example](https://github.com/quangbuule/redux-example): Universal. Uses Immutable, React Router.\n* [isomorphic-counter-example](https://github.com/khtdr/redux-react-koa-isomorphic-counter-example): Universal. A bare-bone implementation of the [counter example app](https://github.com/gaearon/redux/tree/master/examples/counter). Uses promises-middleware to interact with API via Koa on the server.\n* [Awesome list](https://github.com/xgrommx/awesome-redux)\n\nDon’t be shy, add your own!\n\n## What does it look like?\n\n### Actions\n\n```js\n// Still using constants...\nimport { INCREMENT_COUNTER, DECREMENT_COUNTER } from '../constants/ActionTypes';\n\n// But action creators are pure functions returning actions\nexport function increment() {\n  return {\n    type: INCREMENT_COUNTER\n  };\n}\n\nexport function decrement() {\n  return {\n    type: DECREMENT_COUNTER\n  };\n}\n\n// Can also be async if you return a function\nexport function incrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      // Yay! Can invoke sync or async actions with `dispatch`\n      dispatch(increment());\n    }, 1000);\n  };\n}\n\n\n// Could also read state of a store in the callback form\nexport function incrementIfOdd() {\n  return (dispatch, getState) => {\n    const { counter } = getState();\n\n    if (counter % 2 === 0) {\n      return;\n    }\n\n    dispatch(increment());\n  };\n}\n```\n\n### Stores\n```js\n// ... too, use constants\nimport { INCREMENT_COUNTER, DECREMENT_COUNTER } from '../constants/ActionTypes';\n\n// what's important is that Store is a pure function,\n// and you can write it anyhow you like.\n\n// the Store signature is (state, action) => state,\n// and the state shape is up to you: you can use primitives,\n// objects, arrays, or even ImmutableJS objects.\n\nexport default function counter(state = 0, action) {\n  // this function returns the new state when an action comes\n  switch (action.type) {\n  case INCREMENT_COUNTER:\n    return state + 1;\n  case DECREMENT_COUNTER:\n    return state - 1;\n  default:\n    return state;\n  }\n\n  // BUT THAT'S A SWITCH STATEMENT!\n  // Right. If you hate 'em, see the FAQ below.\n}\n```\n\n### Components\n\n#### Dumb Components\n\n```js\n// The dumb component receives everything using props:\nimport React, { PropTypes } from 'react';\n\nexport default class Counter {\n  static propTypes = {\n    increment: PropTypes.func.isRequired,\n    decrement: PropTypes.func.isRequired,\n    counter: PropTypes.number.isRequired\n  };\n\n  render() {\n    const { increment, decrement, counter } = this.props;\n    return (\n      <p>\n        Clicked: {counter} times\n        {' '}\n        <button onClick={increment}>+</button>\n        {' '}\n        <button onClick={decrement}>-</button>\n      </p>\n    );\n  }\n}\n```\n\n#### Smart Components\n\n```js\n// The smart component may observe stores using `<Connector />`,\n// and bind actions to the dispatcher with `bindActionCreators`.\n\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { Connector } from 'redux/react';\nimport Counter from '../components/Counter';\nimport * as CounterActions from '../actions/CounterActions';\n\n// You can optionally specify `select` for finer-grained subscriptions\n// and retrieval. Only when the return value is shallowly different,\n// will the child component be updated.\nfunction select(state) {\n  return { counter: state.counter };\n}\n\nexport default class CounterApp {\n  render() {\n    return (\n      <Connector select={select}>\n        {({ counter, dispatch }) =>\n          /* Yes this is child as a function. */\n          <Counter counter={counter}\n                   {...bindActionCreators(CounterActions, dispatch)} />\n        }\n      </Connector>\n    );\n  }\n}\n```\n\n#### Decorators\n\nThe `@connect` decorator lets you create smart components less verbosely:\n\n```js\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'redux/react';\nimport Counter from '../components/Counter';\nimport * as CounterActions from '../actions/CounterActions';\n\n@connect(state => ({\n  counter: state.counter\n}))\nexport default class CounterApp {\n  render() {\n    const { counter, dispatch } = this.props;\n    // Instead of `bindActionCreators`, you may also pass `dispatch` as a prop\n    // to your component and call `dispatch(CounterActions.increment())`\n    return (\n      <Counter counter={counter}\n               {...bindActionCreators(CounterActions, dispatch)} />\n    );\n  }\n}\n```\n\n### React Native\n\nTo use Redux with React Native, just replace imports from `redux/react` with `redux/react-native`:\n\n```js\nimport { bindActionCreators } from 'redux';\nimport { Provider, Connector } from 'redux/react-native';\n```\n\n### Initializing Redux\n\nThe simplest way to initialize a Redux instance is to give it an object whose values are your Store functions, and whose keys are their names. You may `import *` from the file with all your Store definitions to obtain such an object:\n\n```js\nimport { createRedux } from 'redux';\nimport { Provider } from 'redux/react';\nimport * as stores from '../stores/index';\n\nconst redux = createRedux(stores);\n```\n\nThen pass `redux` as a prop to `<Provider>` component in the root component of your app, and you're all set:\n\n```js\nexport default class App {\n  render() {\n    return (\n      <Provider redux={redux}>\n        {() =>\n          <CounterApp />\n        }\n      </Provider>\n    );\n  }\n}\n```\n\n### Running the same code on client and server\n\nThe `redux` instance returned by `createRedux` also has the `dispatch(action)`, `subscribe()` and `getState()` methods that you may call outside the React components.\n\nYou may optionally specify the initial state as the second argument to `createRedux`. This is useful for hydrating the state you received from running Redux on the server:\n\n```js\n// server\nconst redux = createRedux(stores);\nredux.dispatch(MyActionCreators.doSomething()); // fire action creators to fill the state\nconst state = redux.getState(); // somehow pass this state to the client\n\n// client\nconst initialState = window.STATE_FROM_SERVER;\nconst redux = createRedux(stores, initialState);\n```\n\n### Additional customization\n\nThere is also a longer way to do the same thing, if you need additional customization.\n\nThis:\n\n```js\nimport { createRedux } from 'redux';\nimport * as stores from '../stores/index';\n\nconst redux = createRedux(stores);\n```\n\nis in fact a shortcut for this:\n\n```js\nimport { createRedux, createDispatcher, composeStores } from 'redux';\nimport thunkMiddleware from 'redux/lib/middleware/thunk';\nimport * as stores from '../stores/index';\n\n// Compose all your Stores into a single Store function with `composeStores`:\nconst store = composeStores(stores);\n\n// Create a Dispatcher function for your composite Store:\nconst dispatcher = createDispatcher(\n  store,\n  getState => [thunkMiddleware(getState)] // Pass the default middleware\n);\n\n// Create a Redux instance using the dispatcher function:\nconst redux = createRedux(dispatcher);\n```\n\nWhy would you want to write it longer? Maybe you're an advanced user and want to provide a custom Dispatcher function, or maybe you have a different idea of how to compose your Stores (or you're satisfied with a single Store). Redux lets you do all of this.\n\n`createDispatcher()` also gives you the ability to specify middleware -- for example, to add support for promises. [Learn more](https://github.com/gaearon/redux/blob/master/docs/middleware.md) about how to create and use middleware in Redux.\n\nWhen in doubt, use the shorter option!\n\n## FAQ\n\n### How does hot reloading work?\n\n* http://webpack.github.io/docs/hot-module-replacement.html\n* http://gaearon.github.io/react-hot-loader/\n* Literally that's it. Redux is fully driven by component props, so it works on top of React Hot Loader.\n\n### Can I use this in production?\n\nYep. People already do that although I warned them! The API surface is minimal so migrating to 1.0 API when it comes out won't be difficult. Let us know about any issues.\n\n### How do I do async?\n\nThere's already a built-in way of doing async action creators:\n\n```js\n// Can also be async if you return a function\nexport function incrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      // Yay! Can invoke sync or async actions with `dispatch`\n      dispatch(increment());\n    }, 1000);\n  };\n}\n```\n\nIt's also easy to implement support for returning Promises or Observables with a custom middleware. [See an example of a custom Promise middleware.](https://github.com/gaearon/redux/issues/99#issuecomment-112212639)\n\n### But there are switch statements!\n\n`(state, action) => state` is as simple as a Store can get. You are free to implement your own `createStore`:\n\n```js\nexport default function createStore(initialState, handlers) {\n  return (state = initialState, action) =>\n    handlers[action.type] ?\n      handlers[action.type](state, action) :\n      state;\n}\n```\n\nand use it for your Stores:\n\n```js\nexport default createStore(0, {\n  [INCREMENT_COUNTER]: x => x + 1,\n  [DECREMENT_COUNTER]: x => x - 1\n});\n```\n\nIt's all just functions.\nFancy stuff like generating stores from handler maps, or generating action creator constants, should be in userland.\nRedux has no opinion on how you do this in your project.\n\nSee also [this gist](https://gist.github.com/skevy/8a4ffc3cfdaf5fd68739) for an example implementation of action constant generation.\n\n### What about `waitFor`?\n\nI wrote a lot of vanilla Flux code and my only use case for it was to avoid emitting a change before a related Store consumes the action. This doesn't matter in Redux because the change is only emitted after *all* Stores have consumed the action.\n\nIf several of your Stores want to read data from each other and depend on each other, it's a sign that they should've been a single Store instead. [See this discussion on how `waitFor` can be replaced by the composition of stateless Stores.](https://gist.github.com/gaearon/d77ca812015c0356654f)\n\n### My views aren't updating!\n\nRedux makes a hard assumption that you never mutate the state passed to you. It's easy! For example, instead of\n\n```js\nfunction (state, action) {\n  state.isAuthenticated = true;\n  state.email = action.email;\n  return state;\n}\n```\n\nyou should write\n\n```js\nfunction (state, action) {\n  return {\n    ...state,\n    isAuthenticated: true,\n    email: action.email\n  };\n}\n```\n\n[Read more](https://github.com/sebmarkbage/ecmascript-rest-spread) about the spread properties ES7 proposal.\n\n### How do Stores, Actions and Components interact?\n\nAction creators are just pure functions so they don't interact with anything. Components need to call `dispatch(action)` (or use `bindActionCreators` that wraps it) to dispatch an action *returned* by the action creator.\n\nStores are just pure functions too so they don't need to be “registered” in the traditional sense, and you can't subscribe to them directly. They're just descriptions of how data transforms. So in that sense they don't “interact” with anything either, they just exist, and are used by the dispatcher for computation of the next state.\n\nNow, the dispatcher is more interesting. You pass all the Stores to it, and it composes them into a single Store function that it uses for computation. The dispatcher is also a pure function, and it is passed as configuration to `createRedux`, the only stateful thing in Redux. By default, the default dispatcher is used, so if you call `createRedux(stores)`, it is created implicitly.\n\nTo sum it up: there is a Redux instance at the root of your app. It binds everything together. It accepts a dispatcher (which itself accepts Stores), it holds the state, and it knows how to turn actions into state updates. Everything else (components, for example) subscribes to the Redux instance. If something wants to dispatch an action, they need to do it on the Redux instance. `Connector` is a handy shortcut for subscribing to a slice of the Redux instance's state and injecting `dispatch` into your components, but you don't have to use it.\n\nThere is no other “interaction” in Redux.\n\n## Discussion\n\nJoin the **#redux** channel of the [Reactiflux](http://reactiflux.com/) Slack community\n\n## Inspiration and Thanks\n\n* [Webpack](https://github.com/webpack/docs/wiki/hot-module-replacement-with-webpack) for Hot Module Replacement\n* [The Elm Architecture](https://github.com/evancz/elm-architecture-tutorial) for a great intro to “stateless Stores”\n* [Turning the database inside-out](http://blog.confluent.io/2015/03/04/turning-the-database-inside-out-with-apache-samza/) for blowing my mind\n* [Developing ClojureScript with Figwheel](http://www.youtube.com/watch?v=j-kj2qwJa_E) for convincing me that re-evaluation should “just work”\n* [Flummox](https://github.com/acdlite/flummox) for teaching me to approach Flux without boilerplate or singletons\n* [disto](https://github.com/threepointone/disto) for a proof of concept of hot reloadable Stores\n* [NuclearJS](https://github.com/optimizely/nuclear-js) for proving this architecture can be performant\n* [Om](https://github.com/omcljs/om) for popularizing the idea of a single state atom\n* [Cycle](https://github.com/staltz/cycle) for showing how often a function is the best tool\n* [React](https://github.com/facebook/react) for the pragmatic innovation\n\nSpecial thanks go to [Jamie Paton](http://jdpaton.github.io/) for handing over the `redux` NPM package name.\n",
  "readmeFilename": "README.md",
  "_id": "redux@1.0.0-rc",
  "dist": {
    "shasum": "80db0efe0638fbf9ab13bc0a04b52e7e5c7587d6"
  },
  "_from": "redux@1.0.0-rc",
  "_resolved": "https://registry.npmjs.org/redux/-/redux-1.0.0-rc.tgz"
}
